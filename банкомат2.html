<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="банкомат2.css">
    <title>Банкомат1</title>
</head>
<body background="https://sun9-24.userapi.com/impg/6OKvTRXnvu5G0u4Dtc4vS71yvp17ufbF8cIP3A/BZ0VwvzGHMw.jpg?size=1280x905&quality=95&sign=82ea360fd017e4b19f5a848e49241f81&c_uniq_tag=j0PRyY_98gmGZ1jW_MRPdf8SP4oDm2hMvU-zuNH1kwk&type=album"> 

    <table id="bankomat" align="center"><td><p align="center" style="color: white;">Банкомат</p></td></table>

    <table style="border-radius: 24px;" bgcolor="#9ca611"><td><p style="color: white;">Выберите желаемое действие:</p></td></table>
    <table id="super">
        <tr>
            <td><button onclick=" let a = new Bank; a.paymobile()" class="btn" id = "button1" >Заплатить за мобильную связь</button></td>
            <td><button   onclick="let b = new Bank; b.cash() "class="btn" id = "button2">Снять наличные</button></td>
            <td><button  onclick=" let c = new Bank; c.replenishment ()"class="btn" id = "button3">Пополнить счет</button></td>
        </tr>
        <tr>
        <td><button  onclick="let d = new Bank; d.balance () "class="btn" id = "button4">Проверить баланс</button></td>
        <td><button  onclick="  let f = new Bank; f. enterTHEpassword()"class="btn" id = "button5">Ввести пароль</button></td>
        <td><button  onclick=" let h = new Bank; h.transfMoney()"class="btn" id = "button7">Перевести</button></td>
    </tr>
    </table>
    
    <script>

        class User  {
            constructor (ncard, parol, name, surname) {
           this.ncard=[65487598,12345678,87654321];
           this.parol=[546754,143566,856423];
           this.name=["Kiana", "Yae", "Violet"];
           this.surname=["Rivz", "Miko", "Evergarden"];
           this.money=[10000,6565,5];
            }
        }

    
        let ncard = 0;
        let summC = 0;
        let oplata = false;
        let u = new User()

        class Bank {

            //оплата мобильной связи
  paymobile() {
    {
                alert("Сумма оплаты мобильной связи 220 рублей");
                if(oplata == false){
                    if(summC >= 220){
                        summC -= 220;
                        alert(`Мобильная связь оплачена.На вашем балансе теперь  ${summC}  рублей`)
                        oplata = true;
                    }
                    else{
                        alert(`На вашем счете недостаточно средств! У вас ${summC} рублей,необходимо - 220 рублей`)
                    }
                }
                else{
                    alert("Мобильная связь оплачена.")
                }
  }   
  }

  //пополнение счета
   cash(){
                let summ = prompt("Введите сумму, которую хотите снять");
                if(summC >= summ){
                    summC -= summ;
                    alert(`Вы сняли ${summ}. Остаток на счёте ${summC}. `);
                }
                else{
                    alert("На вашем счёте недостаточно средств.");
                }
            }// Снять наличные
         replenishment () {

          let summ = prompt("Введите сумму пополнения");
                summC += Number(summ);
                alert(`Вы пополнили баланс на ${summ} рублей.На вашей карте ${summC}`)
         } 

         //просмотр баланса
 balance () {

  alert(`На вашей карте ${summC.toFixed(1)} рублей  `)
 }  

// ввести пароль
 enterTHEpassword(){
 
                let ncard = prompt("Введите свою карту");
                let z=true
                for(let i = 0; i <= u.ncard.length; i++){
                    if(ncard == u.ncard[i]){
                        let password = prompt("Введите пароль к карте");
                        if(password == u.parol[i]){
                        let name = 0;
                        switch(u.ncard[i]){
                                case 65487598 :
                                    break;
                                case 12345678 :
                                    name = 1;
                                    break;
                                case 87654321 :
                                    name = 2;
                                    break;
                        }
                            alert(`Вы вошли в свой аккаунт ${u.name[name]}.`)
                            z=false
                            ncard = i;
                            summС = u.money[i];
                        }
                        else{  z=true;
                        }
                      }
                
 }
    if(z == true){
                    alert("Неверная карта или пароль");
                }       
              }

//перевод денег
  transfMoney() { 
    let ncard = prompt("На какую карту перевести?");
                for(let i = 0; i <= u.ncard.length; i++){
                    if(ncard == u.ncard[i]){
                        let Money_ = prompt("сколько денег перевести");
                        console.log(u.money[i])
                        u.money[i] += Number(Money_);
                        console.log(u.money[i])
                        summC -= Money_;
  }
                }
                }
            }
            
        </script>
</body>
</html>
